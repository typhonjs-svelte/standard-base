{"version":3,"file":"index.js","sources":["../../../../src/action/animate/composable/animateWAAPI.js","../../../../src/action/animate/composable/composable.js","../../../../src/action/animate/composable/ripple.js","../../../../src/action/animate/composable/rippleFocus.js"],"sourcesContent":["import { Timing }    from '#runtime/util';\r\nimport { isObject }  from '#runtime/util/object';\r\n\r\n/**\r\n * Defines a higher order function returning an action that triggers WAAPI / `Element.animate` animations from\r\n * provided keyframes and options in response to a given event. The default event is the `click` event. You may change\r\n * that to any\r\n *\r\n * @param {import('./types').ComposableActionOptions.AnimateWAAPI} [options] - Optional parameters.\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/animate\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API/Keyframe_Formats\r\n *\r\n * @returns {(import('svelte/action').Action<\r\n *    HTMLElement,\r\n *    import('svelte/action').ActionReturn<import('./types').ComposableActionOptions.AnimateWAAPI>\r\n * >)} Actual `animateWAAPI` Action.\r\n */\r\nexport function animateWAAPI({ debounce, enabled = true, duration = 600, event = 'click', keyframes = [],\r\n keyframeOptions, strategy = 'cancel' } = {})\r\n{\r\n   return (element, initialOptions) =>\r\n   {\r\n      /** @type {Animation} */\r\n      let animation;\r\n\r\n      /**\r\n       * Defines the animation finished / canceled operation clearing the existing animation reference.\r\n       */\r\n      function animationFinished()\r\n      {\r\n         if (animation)\r\n         {\r\n            animation.effect = void 0;\r\n            animation = void 0;\r\n         }\r\n      }\r\n\r\n      /**\r\n       * Creates WAAPI animation.\r\n       */\r\n      function createAnimation()\r\n      {\r\n         if (!enabled) { return; }\r\n\r\n         if (animation !== void 0)\r\n         {\r\n            switch (strategy)\r\n            {\r\n               default:\r\n               case 'cancel':\r\n                  if (animation?.playState !== 'finished')\r\n                  {\r\n                     animation.cancel();\r\n                     animationFinished();\r\n                  }\r\n                  break;\r\n\r\n               case 'exclusive':\r\n                  // Exclusive animations simply return immediately as an animation is already in progress.\r\n                  return;\r\n            }\r\n         }\r\n\r\n         animation = element.animate(keyframes, isObject(keyframeOptions) ? keyframeOptions : duration);\r\n         animation.onfinish = animationFinished;\r\n      }\r\n\r\n      /**\r\n       * Updates options.\r\n       *\r\n       * @param {import('./types').ComposableActionOptions.AnimateWAAPI} newOptions - Options to update.\r\n       */\r\n      function updateOptions(newOptions)\r\n      {\r\n         if (typeof newOptions?.debounce === 'number' && debounce !== newOptions.debounce)\r\n         {\r\n            element.removeEventListener(event, eventFn);\r\n\r\n            eventFn = Number.isInteger(debounce) && debounce > 0 ? Timing.debounce(createAnimation, debounce) :\r\n               createAnimation;\r\n\r\n            element.addEventListener(event, eventFn);\r\n         }\r\n\r\n         if (typeof newOptions?.enabled === 'boolean') { enabled = newOptions.enabled; }\r\n\r\n         if (typeof newOptions?.duration === 'number') { duration = newOptions.duration; }\r\n\r\n         if (typeof newOptions?.event === 'string' && event !== newOptions.event)\r\n         {\r\n            element.removeEventListener(event, eventFn);\r\n\r\n            event = newOptions.event;\r\n\r\n            element.addEventListener(event, eventFn);\r\n         }\r\n\r\n         if (Array.isArray(newOptions?.keyframes) || isObject(newOptions?.keyframes))\r\n         {\r\n            keyframes = newOptions.keyframes;\r\n         }\r\n\r\n         if (isObject(newOptions?.keyframeOptions)) { keyframeOptions = newOptions.keyframeOptions; }\r\n\r\n         if (typeof newOptions?.strategy === 'string' && strategy !== newOptions.strategy)\r\n         {\r\n            strategy = newOptions.strategy;\r\n         }\r\n      }\r\n\r\n      let eventFn = Number.isInteger(debounce) && debounce > 0 ? Timing.debounce(createAnimation, debounce) :\r\n       createAnimation;\r\n\r\n      element.addEventListener(event, eventFn);\r\n\r\n      // Update options with any action assigned initial options.\r\n      if (isObject(initialOptions)) { updateOptions(initialOptions); }\r\n\r\n      return {\r\n         update: updateOptions,\r\n         destroy: () => element.removeEventListener(event, eventFn)\r\n      };\r\n   };\r\n}\r\n","/**\r\n * Combines multiple composable actions.\r\n *\r\n * Note: The update function passes the same variable to all update functions of each action.\r\n *\r\n * TODO: This is a naive implementation and will be further refined in the near future.\r\n *\r\n * @param {...import('svelte/action').Action} actions - One or more composable action functions to combine.\r\n *\r\n * @returns {import('svelte/action').Action<HTMLElement, any>} Composed action.\r\n */\r\nexport function composable(...actions)\r\n{\r\n   return (element, options) =>\r\n   {\r\n      let lifecycle = actions.map((action) => action(element, options));\r\n\r\n      return {\r\n         destroy: () =>\r\n         {\r\n            for (const action of lifecycle)\r\n            {\r\n               if (typeof action.destroy === 'function') { action.destroy(); }\r\n            }\r\n\r\n            lifecycle = void 0;\r\n         },\r\n         update: (parameters) =>\r\n         {\r\n            for (const action of lifecycle)\r\n            {\r\n               if (typeof action.update === 'function') { action.update(parameters); }\r\n            }\r\n         }\r\n      };\r\n   };\r\n}\r\n","import { Timing }       from '#runtime/util';\nimport { CrossWindow }  from '#runtime/util/browser';\nimport { isObject }     from '#runtime/util/object';\n\n/**\n * Defines the classic Material Design ripple effect as an action. `ripple` is a wrapper around the returned action.\n * This allows it to be easily used as a prop.\n *\n * Note: A negative one translateZ transform is applied to the added spans allowing other content to be layered on top\n * with a positive translateZ.\n *\n * Note: The ripple effect requires the `efx` element to have overflow hidden. This is set inline when the effect is\n * applied.\n *\n * Note: A CustomEvent `efx-trigger` is handled in cases when explicit triggering is necessary. This event should\n * have the actual source event as a property of `detail`.\n *\n * Styling: There is a single CSS variable `--tjs-action-ripple-background` that can be set to control the background.\n *\n * @param {object}   [opts] - Optional parameters.\n *\n * @param {string}   [opts.background='rgba(255, 255, 255, 0.7)'] - A valid CSS background attribute.\n *\n * @param {number}   [opts.duration=600] - Duration in milliseconds.\n *\n * @param {boolean}  [opts.enabled=true] - Enabled state.\n *\n * @param {Iterable<string>}  [opts.events=['click', 'keyup']] - DOM event to bind element to respond with the ripple\n *                                                                  effect.\n *\n * @param {string}   [opts.keyCode='Enter'] - Key code to trigger for any applicable key events.\n *\n * @param {boolean}  [opts.contextmenu=false] - Add triggering for context menu key and click.\n *\n * @param {number}   [opts.debounce=undefined] - Add a debounce to incoming events in milliseconds.\n *\n * @returns {(import('svelte/action').Action<\n *    HTMLElement,\n *    import('svelte/action').ActionReturn<import('./types').ComposableActionOptions.Ripple>\n * >)} Actual `ripple` Action.\n */\nexport function ripple({ background = 'rgba(255, 255, 255, 0.7)', contextmenu = false, debounce, duration = 600,\n enabled = true, events = ['click', 'keyup'], keyCode = 'Enter' } = {})\n{\n   return (element, initialOptions) =>\n   {\n      // Ripple requires the efx element to have the overflow hidden due to rendering content outside the boundary.\n      element.style.overflow = 'hidden';\n\n      /**\n       * Creates the ripple effect.\n       *\n       * @param {MouseEvent|KeyboardEvent}   e -\n       */\n      function createRipple(e)\n      {\n         if (!enabled) { return; }\n\n         const elementRect = element.getBoundingClientRect();\n\n         const diameter = Math.max(elementRect.width, elementRect.height);\n         const radius = diameter / 2;\n\n         let left, top;\n\n         // Firefox currently (11/24) does not correctly determine the location of a keyboard originated\n         // context menu location, so default to 0 instead of using `clientX` / `clientY`.\n         if (e?.button !== 2 && e.type === 'contextmenu')\n         {\n            left = '0';\n            top = '0';\n         }\n         else\n         {\n            // Find the adjusted click location relative to center or if no `clientX/Y` parameters choose center.\n            left = e.clientX ? `${e.clientX - (elementRect.left + radius)}px` : '0';\n            top = e.clientY ? `${e.clientY - (elementRect.top + radius)}px` : '0';\n         }\n\n         const span = document.createElement('span');\n\n         span.style.position = 'absolute';\n         span.style.width = `${diameter}px`;\n         span.style.height = `${diameter}px`;\n         span.style.left = left;\n         span.style.top = top;\n\n         span.style.background = `var(--tjs-action-ripple-background, ${background})`;\n         span.style.borderRadius = '50%';\n         span.style.pointerEvents = 'none';\n         span.style.transform = 'translateZ(-1px)';\n\n         element.prepend(span);\n\n         const animation = span.animate([\n            {  // from\n               transform: 'scale(.7)',\n               opacity: 0.5,\n               filter: 'blur(2px)'\n            },\n            {  // to\n               transform: 'scale(4)',\n               opacity: 0,\n               filter: 'blur(5px)'\n            }\n         ],\n         duration);\n\n         animation.onfinish = () =>\n         {\n            if (span && span.isConnected) { span.remove(); }\n         };\n      }\n\n      /**\n       * Handles a custom event trigger `efx-trigger`. The `CustomEvent` should have an `event` object accessible from\n       * `detail`.\n       *\n       * @param {CustomEvent} event - CustomEvent.\n       */\n      function customHandler(event)\n      {\n         const actual = event?.detail?.event;\n\n         if (CrossWindow.isUserInputEvent(actual)) { createRipple(actual); }\n\n         event.preventDefault();\n         event.stopPropagation();\n      }\n\n      /**\n       * Handles any key event and only triggers the ripple effect if key code matches.\n       *\n       * @param {KeyboardEvent}  event -\n       */\n      function keyHandler(event)\n      {\n         if (!enabled) { return; }\n\n         if (event?.code === keyCode) { createRipple(event); }\n      }\n\n      /**\n       * Updates options.\n       *\n       * @param {import('./types').ComposableActionOptions.Ripple} newOptions - Options to update.\n       */\n      function updateOptions(newOptions)\n      {\n         if (typeof newOptions?.enabled === 'boolean') { enabled = newOptions.enabled; }\n      }\n\n      const eventFn = Number.isInteger(debounce) && debounce > 0 ? Timing.debounce(createRipple, debounce) :\n       createRipple;\n\n      const customEventFn = Number.isInteger(debounce) && debounce > 0 ? Timing.debounce(customHandler, debounce) :\n       customHandler;\n\n      const keyEventFn = Number.isInteger(debounce) && debounce > 0 ? Timing.debounce(keyHandler, debounce) :\n       keyHandler;\n\n      for (const event of events)\n      {\n         if (['keydown', 'keyup'].includes(event))\n         {\n            element.addEventListener(event, keyEventFn);\n         }\n         else\n         {\n            element.addEventListener(event, eventFn);\n         }\n      }\n\n      element.addEventListener('efx-trigger', customEventFn);\n\n      if (contextmenu) { element.addEventListener('contextmenu', eventFn); }\n\n      // Update options with any action assigned initial options.\n      if (isObject(initialOptions)) { updateOptions(initialOptions); }\n\n      return {\n         update: updateOptions,\n         destroy: () =>\n         {\n            for (const event of events)\n            {\n               if (['keydown', 'keyup'].includes(event))\n               {\n                  element.removeEventListener(event, keyEventFn);\n               }\n               else\n               {\n                  element.removeEventListener(event, eventFn);\n               }\n            }\n\n            element.removeEventListener('efx-trigger', customEventFn);\n\n            if (contextmenu) { element.removeEventListener('contextmenu', eventFn); }\n         }\n      };\n   };\n}\n","import { A11yHelper }   from '#runtime/util/a11y';\nimport { CrossWindow }  from '#runtime/util/browser';\nimport { isObject }     from '#runtime/util/object';\n\n/**\n * Defines the classic Material Design ripple effect as an action that is attached to an elements focus and blur events.\n * `rippleFocus` is a wrapper around the returned action. This allows it to be easily used as a prop.\n *\n * Note: A negative one translateZ transform is applied to the added spans allowing other content to be layered on top\n * with a positive translateZ.\n *\n * Note: The ripple effect requires the `efx` element to have overflow hidden. This is set inline when the effect is\n * applied.\n *\n * If providing the `selector` option a target child element will be registered for the focus events otherwise the\n * first child is targeted with a final fallback of the element assigned to this action.\n *\n * Styling: There is a single CSS variable `--tjs-action-ripple-background-focus` that can be set to control the\n * background with a fallback to `--tjs-action-ripple-background`.\n *\n * @param {object}   [opts] - Optional parameters.\n *\n * @param {number}   [opts.duration=300] - Duration in milliseconds.\n *\n * @param {boolean}  [opts.enabled=true] - Enabled state.\n *\n * @param {string}   [opts.background='rgba(255, 255, 255, 0.7)'] - A valid CSS background attribute.\n *\n * @param {string}   [opts.selector] - A valid CSS selector string.\n *\n * @returns {(import('svelte/action').Action<\n *    HTMLElement,\n *    import('svelte/action').ActionReturn<import('./types').ComposableActionOptions.RippleFocus>\n * >)} Actual `rippleFocus` Action.\n */\nexport function rippleFocus({ background = 'rgba(255, 255, 255, 0.7)', duration = 300, enabled = true, selector } = {})\n{\n   return (element, initialOptions) =>\n   {\n      // Ripple requires the efx element to have the overflow hidden due to rendering content outside the boundary.\n      element.style.overflow = 'hidden';\n\n      const targetEl = typeof selector === 'string' ? element.querySelector(selector) :\n       A11yHelper.isFocusTarget(element.firstChild) ? element.firstChild : element;\n\n      let clientX = -1;\n      let clientY = -1;\n\n      /** @type {HTMLSpanElement[]} */\n      const activeSpans = [];\n\n      /**\n       * WAAPI ripple animation on blur.\n       */\n      function blurRipple()\n      {\n         if (!enabled) { return; }\n\n         // When clicking outside the browser window or to another tab `document.activeElement` remains\n         // the same despite blur being invoked; IE the target element.\n         if (activeSpans.length === 0 || targetEl === CrossWindow.getActiveElement(targetEl)) { return; }\n\n         for (const span of activeSpans)\n         {\n            const animation = span.animate(\n             [\n                {  // from\n                   transform: 'scale(3)',\n                   opacity: 0.3,\n                },\n                {  // to\n                   transform: 'scale(.7)',\n                   opacity: 0.0,\n                }\n             ],\n             {\n                duration,\n                fill: 'forwards'\n             });\n\n            animation.onfinish = () =>\n            {\n               if (span.isConnected) { span.remove(); }\n            };\n         }\n\n         // Remove all active spans as they are now animating out.\n         activeSpans.length = 0;\n      }\n\n      /**\n       * WAAPI ripple animation on focus.\n       */\n      function focusRipple()\n      {\n         if (!enabled) { return; }\n\n         // If already focused and the span exists do not create another ripple effect.\n         if (activeSpans.length > 0) { return; }\n\n         const elementRect = element.getBoundingClientRect();\n\n         // The order of events don't always occur with a pointer event first. In this case use the center of the\n         // element as the click point. Mostly this is seen when the focused target element has a followup event off\n         // the app / screen. If the next pointer down occurs on the target element the focus callback occurs before\n         // pointer down in Chrome and Firefox.\n         const actualX = clientX >= 0 ? clientX : elementRect.left + (elementRect.width / 2);\n         const actualY = clientY >= 0 ? clientY : elementRect.top + (elementRect.height / 2);\n\n         const diameter = Math.max(elementRect.width, elementRect.height);\n         const radius = diameter / 2;\n         const left = `${actualX - (elementRect.left + radius)}px`;\n         const top = `${actualY - (elementRect.top + radius)}px`;\n\n         const span = document.createElement('span');\n\n         span.style.position = 'absolute';\n         span.style.width = `${diameter}px`;\n         span.style.height = `${diameter}px`;\n         span.style.left = left;\n         span.style.top = top;\n\n         span.style.background =\n          `var(--tjs-action-ripple-background-focus, var(--tjs-action-ripple-background, ${background}))`;\n\n         span.style.borderRadius = '50%';\n         span.style.pointerEvents = 'none';\n         span.style.transform = 'translateZ(-1px)';\n\n         element.prepend(span);\n\n         activeSpans.push(span);\n\n         span.animate([\n            {  // from\n               transform: 'scale(.7)',\n               opacity: 0.5,\n            },\n            {  // to\n               transform: 'scale(3)',\n               opacity: 0.3,\n            }\n         ],\n         {\n            duration,\n            fill: 'forwards'\n         });\n\n         // Reset stored pointer position.\n         clientX = clientY = -1;\n      }\n\n      /**\n       * Store the pointer down location for the origination of the ripple.\n       *\n       * @param {PointerEvent} e - A PointerEvent.\n       */\n      function onPointerDown(e)\n      {\n         if (!enabled) { return; }\n\n         clientX = e.clientX;\n         clientY = e.clientY;\n      }\n\n      /**\n       * Updates options.\n       *\n       * @param {import('./types').ComposableActionOptions.RippleFocus} newOptions - Options to update.\n       */\n      function updateOptions(newOptions)\n      {\n         if (typeof newOptions?.enabled === 'boolean' && enabled !== newOptions?.enabled)\n         {\n            enabled = newOptions.enabled;\n            if (!enabled) { blurRipple(); }\n         }\n      }\n\n      targetEl.addEventListener('pointerdown', onPointerDown);\n      targetEl.addEventListener('blur', blurRipple);\n      targetEl.addEventListener('focus', focusRipple);\n\n      // Update options with any action assigned initial options.\n      if (isObject(initialOptions)) { updateOptions(initialOptions); }\n\n      return {\n         update: updateOptions,\n         destroy: () =>\n         {\n            targetEl.removeEventListener('pointerdown', onPointerDown);\n            targetEl.removeEventListener('blur', blurRipple);\n            targetEl.removeEventListener('focus', focusRipple);\n         }\n      };\n   };\n}\n"],"names":[],"mappings":"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"}